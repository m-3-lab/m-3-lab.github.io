{"version":3,"file":"component---src-pages-publications-index-js-c7649ca00f4ae4690056.js","mappings":"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","sources":["webpack://m-3-lab/./src/components/publications/sort-articles.js","webpack://m-3-lab/./src/components/publications/list.js","webpack://m-3-lab/./src/components/publications/publications.js","webpack://m-3-lab/./src/components/publications/publications-container.js","webpack://m-3-lab/./src/pages/publications/index.js","webpack://m-3-lab/./node_modules/@babel/runtime/helpers/arrayLikeToArray.js","webpack://m-3-lab/./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack://m-3-lab/./node_modules/@babel/runtime/helpers/iterableToArray.js","webpack://m-3-lab/./node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack://m-3-lab/./node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack://m-3-lab/./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js"],"sourcesContent":["const sortByYear = (articles) => (\n  Object.entries(articles).reduce((accum, [year, arr]) => ({\n    ...accum,\n    [year]: arr.sort((a, b) => (a.pmid < b.pmid ? 1 : -1)),\n  }), {})\n);\n\nconst sortArticles = (articles) => {\n  const articlesByYear = articles.reduce((accum, article) => {\n    if (accum[article.year]) {\n      return {\n        ...accum,\n        [article.year]: [\n          ...accum[article.year],\n          article,\n        ],\n      };\n    }\n    return {\n      ...accum,\n      [article.year]: [article],\n    };\n  }, {});\n\n  return sortByYear(articlesByYear);\n};\n\nmodule.exports = sortArticles;\n","import PropTypes from 'prop-types';\nimport React, { Fragment } from 'react';\n\nimport Link from '../link/link';\n\nconst createAuthorSeparator = (index, numberOfAuthors) => {\n  if (numberOfAuthors === 1 || index === numberOfAuthors - 1) {\n    return '';\n  } if (index < numberOfAuthors - 2) {\n    return ', ';\n  }\n  return ' and ';\n};\n\nconst formatAuthors = (authors, title) => {\n  const numberOfAuthors = authors.length;\n  return authors.map((author, index) => {\n    return (\n      <Fragment key={`${author}-${title}`}>\n        {author}\n        {createAuthorSeparator(index, numberOfAuthors)}\n      </Fragment>\n    );\n  });\n};\n\nconst formatPages = (article) => {\n  if (article.volume && article.issue && article.pages) {\n    return `, ${article.volume}(${article.issue}): ${article.pages}`;\n  } if (article.volume && article.pages) {\n    return `, ${article.volume}: ${article.pages}`;\n  } if (article.pages) {\n    return `, ${article.pages}`;\n  }\n  return '';\n};\n\nconst formatTitle = (title) => title.replace(/&lt;.+?&gt;/g, '');\n\nconst formatItem = (article) => (\n  <li key={article.title}>\n    {formatAuthors(article.authors, article.title)}\n    .\n    {' '}\n    <strong>{formatTitle(article.title)}</strong>\n    {' '}\n    <em>{article.journal}</em>\n    .\n    {' '}\n    {article.year}\n    {formatPages(article)}\n    .\n    {' '}\n    <Link to={`https://www.ncbi.nlm.nih.gov/pubmed/${article.pmid}`}>\n      PMID:\n      {' '}\n      {article.pmid}\n    </Link>\n    .\n  </li>\n);\n\nconst PublicationList = ({\n  publications,\n}) => {\n  const yearOrder = Object.keys(publications).sort((a, b) => (Number(a) < Number(b) ? 1 : -1));\n\n  return (\n    <>\n      <div className=\"publications__links-year\">\n        {\n          yearOrder.map((year) => (\n            <Link\n              key={year}\n              to={`/publications/#${year}`}\n            >\n              {year}\n            </Link>\n          ))\n        }\n      </div>\n      {\n        yearOrder.map((year) => {\n          const items = publications[year].map((article) => formatItem(article));\n          return (\n            <div key={year}>\n              <h2 id={year}>{year}</h2>\n              <ul>{items}</ul>\n            </div>\n          );\n        })\n      }\n    </>\n  );\n};\n\nPublicationList.propTypes = {\n  publications: PropTypes.shape({}).isRequired,\n};\n\nexport default PublicationList;\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faBook } from '@fortawesome/free-solid-svg-icons';\n\nimport './publications.css';\nimport PublicationList from './list';\n\nconst Publications = ({ publications }) => (\n  <div className=\"publications\">\n    <section>\n      <header>\n        <h1>\n          Publications\n        </h1>\n        <FontAwesomeIcon icon={faBook} size=\"2x\" />\n      </header>\n      <PublicationList publications={publications} />\n    </section>\n  </div>\n);\n\nPublications.propTypes = {\n  publications: PropTypes.shape({}).isRequired,\n};\n\nexport default Publications;\n","import React from 'react';\nimport { useStaticQuery, graphql } from 'gatsby';\n\nimport Publications from './publications';\n\nimport sortArticles from './sort-articles';\n\nconst PublicationsContainer = () => {\n  const query = useStaticQuery(\n    graphql`\n      query {\n        publications(list: {elemMatch: {title: {regex: \"/.*/\"}}}) {\n          list{\n            authors\n            journal\n            issue\n            pages\n            pmid\n            title\n            volume\n            year\n          }\n        }\n      }\n    `,\n  );\n\n  const publicationsByYear = query.publications && query.publications.list.length > 0\n    ? sortArticles(query.publications.list)\n    : null;\n\n  return (\n    publicationsByYear\n    && <Publications publications={publicationsByYear} />\n  );\n};\n\nexport default PublicationsContainer;\n","import React from 'react';\n\nimport Layout from '../../components/layout/layout';\nimport Publications from '../../components/publications/publications-container';\nimport SEO from '../../components/seo/seo';\n\nconst IndexPage = () => (\n  <Layout>\n    <SEO title=\"Publications\" />\n    <Publications />\n  </Layout>\n);\n\nexport default IndexPage;\n","function _arrayLikeToArray(r, a) {\n  (null == a || a > r.length) && (a = r.length);\n  for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e];\n  return n;\n}\nmodule.exports = _arrayLikeToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\nfunction _arrayWithoutHoles(r) {\n  if (Array.isArray(r)) return arrayLikeToArray(r);\n}\nmodule.exports = _arrayWithoutHoles, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _iterableToArray(r) {\n  if (\"undefined\" != typeof Symbol && null != r[Symbol.iterator] || null != r[\"@@iterator\"]) return Array.from(r);\n}\nmodule.exports = _iterableToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nmodule.exports = _nonIterableSpread, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayWithoutHoles = require(\"./arrayWithoutHoles.js\");\nvar iterableToArray = require(\"./iterableToArray.js\");\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\nvar nonIterableSpread = require(\"./nonIterableSpread.js\");\nfunction _toConsumableArray(r) {\n  return arrayWithoutHoles(r) || iterableToArray(r) || unsupportedIterableToArray(r) || nonIterableSpread();\n}\nmodule.exports = _toConsumableArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\nfunction _unsupportedIterableToArray(r, a) {\n  if (r) {\n    if (\"string\" == typeof r) return arrayLikeToArray(r, a);\n    var t = {}.toString.call(r).slice(8, -1);\n    return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? arrayLikeToArray(r, a) : void 0;\n  }\n}\nmodule.exports = _unsupportedIterableToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;"],"names":["module","exports","articles","Object","entries","reduce","accum","_ref","year","arr","sort","a","b","pmid","sortByYear","article","concat","_toConsumableArray","formatItem","React","key","title","formatAuthors","authors","numberOfAuthors","length","map","author","index","Fragment","createAuthorSeparator","replace","journal","volume","issue","pages","formatPages","Link","to","publications","yearOrder","keys","Number","className","items","id","FontAwesomeIcon","icon","faBook","size","PublicationList","PublicationsContainer","query","useStaticQuery","publicationsByYear","list","sortArticles","Publications","IndexPage","Layout","SEO","r","e","n","Array","__esModule","arrayLikeToArray","isArray","Symbol","iterator","from","TypeError","arrayWithoutHoles","iterableToArray","unsupportedIterableToArray","nonIterableSpread","t","toString","call","slice","constructor","name","test"],"sourceRoot":""}